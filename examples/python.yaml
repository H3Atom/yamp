---
- define: {name: FOO, value: 'BAR'}
- python: '2 ** 3'
- python: 'os.environ["USER"]'
- python: FOO.lower()
- define: {name: FOO, value: {python: __FILE__.upper()}}
- FOO =  {{ FOO }}
- define: { alist: [1,2,3,4,5] }
- python: 'len(alist)'
- argv
---
defmacro: 
  name: top_level_macro
  args:
  value: 
    python: 'lookup(__parent__, "argv")[0][1]'
---
defmacro:
  name: amacro
  args:
  value:
    #- python: 'len(argv)' # NameError: name 'argv' is not defined
    top_level_macro:
---
amacro:
